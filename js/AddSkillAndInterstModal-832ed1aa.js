import{_ as s,r as e,ap as l,w as n,o as t,D as i,B as a,z as o,H as r,y as d,I as c,aE as m,aF as u}from"./vendors-a4d7b1d1.js";import k from"./SelectSkillAndInterst-2425dc2a.js";import{b as S,a as f}from"./service-f27b7fd0.js";import{c as v}from"./index-56147312.js";import"./AddNewTag-a1e2d997.js";import"./index-525c358d.js";import"./Tag-421c683c.js";var I=s({components:{SelectSkillAndInterst:k},setup(){const s=e(!1),n=e(!1),t=e([]),i=e([]);let a=l({});const o={},r=e(!1),d=e(!0);return{visible:n,onAddSuccess:(s,e)=>{o["skills"===e?"mySkills":"myInterest"]=s},onSelectTag:(s,e)=>{o[e]=s,"skills"===e&&(d.value=!s.length)},confirmLoading:r,onOk:async()=>{var e,l;s.value=!0;const t={id:a.id,interest:o.interest&&o.interest.join(v),myInterest:o.myInterest&&(null==(e=o.myInterest)?void 0:e.join(v)),mySkills:o.mySkills&&(null==(l=o.mySkills)?void 0:l.join(v)),skills:o.skills.join(v)};d.value=!!t.interest;if(await S(t)){const{createMessage:s}=f();s.success(window.i18n.tc("common.saveSuccess")),n.value=!1}s.value=!1},userInfo:a,loading:s,allSkills:t,allInterest:i,disabledBtn:d}}},[["render",function(s,e,l,k,S,f){const v=c,I=m,g=n("SelectSkillAndInterst"),p=u;return t(),i(p,{title:s.$t("account.selectSkillAndInterst"),visible:k.visible,"confirm-loading":k.confirmLoading,onOk:k.onOk,closable:!1,destroyOnClose:"",keyboard:!1,width:"700px"},{default:a((()=>[o(v,{slot:"footer",onClick:k.onOk,type:"primary",disabled:k.disabledBtn},{default:a((()=>[r(d(s.$t("account.saveAndClose")),1)])),_:1},8,["onClick","disabled"]),o(I,{spinning:k.loading},null,8,["spinning"]),o(g,{onChange:k.onSelectTag,onSuccess:k.onAddSuccess,userInfo:k.userInfo,allSkills:k.allSkills,allInterest:k.allInterest,size:"middle"},null,8,["onChange","onSuccess","userInfo","allSkills","allInterest"])])),_:1},8,["title","visible","confirm-loading","onOk"])}]]);export{I as default};
