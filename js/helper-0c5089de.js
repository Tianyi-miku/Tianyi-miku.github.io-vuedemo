import{t as s,s as e,A as a,P as t,U as i,a as n}from"./index-ed3c9dcc.js";import{bj as r,i as o}from"./vendors-a4d7b1d1.js";const m=(n,o)=>{setTimeout((()=>{r.success({message:"欢迎",description:`${s()}，欢迎回来`})})),n.token&&(e.set(a,n.token,6048e5),e.set(t,Array.isArray(n.permission)?n.permission:n.permission.split(",")),e.set(i,n)),o.push({path:"/dashboard/analysis"})},d=s=>{r.error({message:"错误",description:((s.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4})},c=(s,e,a,t,i)=>{s.preventDefault(),e(["mobile"]).then((s=>{a.smsSendBtn=!0;const e=window.setInterval((()=>{a.time--<=0&&(a.time=60,a.smsSendBtn=!1,window.clearInterval(e))}),1e3);o.loading("验证码发送中..",1),n({mobile:t.mobile}).then((s=>{r.success({message:"提示",description:"验证码获取成功，您的验证码为："+s.result.captcha,duration:8})})).catch((s=>{clearInterval(e),a.time=60,a.smsSendBtn=!1,d(s),i&&(i.value=!1)}))}))};export{m as l,d as r,c as u};
