import{_ as a,bD as e,q as l,r as s,w as t,o as u,a as n,W as o,ae as d,D as p,B as g,H as i,y as r,x as c,bF as v,C as f,z as I,an as h,bG as y,au as C,aA as m}from"./vendors-a4d7b1d1.js";const b={class:"AddNewTag"};var T=a({props:{max:{type:Number,default:()=>5},type:{type:String,default:()=>""},defaultAdded:{type:Array,default:()=>[]},size:{type:String,default:()=>"small"}},components:{PlusOutlined:e},setup({max:a,type:e,defaultAdded:t},{emit:u}){l((()=>{n.value.length>=a&&(g.value=!1)}));const n=s(t),o=s(!1),d=s(null),p=s(""),g=s(!0);return{tagInputVisible:o,tagInputValue:p,handleInputChange:a=>{p.value=a.target.value},handleTagInputConfirm:()=>{const l=p.value;let s=n.value;l&&!s.includes(l)&&(s=[...s,l]),n.value=s,n.value.length>=a&&(g.value=!1),o.value=!1,p.value="",u("success",s,e)},showTagInput:()=>{o.value=!0,h((()=>{d.value.focus()}))},tagInputDomRef:d,tagAddVisible:g,tags:n,onCloseTag:l=>{n.value=y(n.value,l),n.value.length<a&&(g.value=!0),u("success",n.value,e)}}}},[["render",function(a,e,l,s,h,y){const T=C,A=m,V=t("PlusOutlined");return u(),n("span",b,[(u(!0),n(o,null,d(s.tags,(a=>(u(),p(T,{closable:"",onClose:e=>s.onCloseTag(a),key:a,class:c(l.size)},{default:g((()=>[i(r(a),1)])),_:2},1032,["onClose","class"])))),128)),s.tagInputVisible?(u(),p(A,{key:0,ref:"tagInputDomRef",type:"text",class:c(l.size+"Ipt"),value:s.tagInputValue,onChange:s.handleInputChange,onBlur:s.handleTagInputConfirm,onKeyup:v(s.handleTagInputConfirm,["enter"])},null,8,["class","value","onChange","onBlur","onKeyup"])):f("",!0),!s.tagInputVisible&&s.tagAddVisible?(u(),p(T,{key:1,onClick:s.showTagInput,class:c([l.size,"addTag"])},{default:g((()=>[I(V)])),_:1},8,["onClick","class"])):f("",!0)])}]]);export{T as default};
