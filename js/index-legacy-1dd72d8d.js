!function(){var e=document.createElement("style");e.innerHTML=".neirong[data-v-05ee4a98]{width:1800px;height:100%;margin:80px auto;display:flex;justify-content:center}.legend[data-v-05ee4a98]{width:25px;height:500px}canvas[data-v-05ee4a98]{width:100%;height:100%}.waterFall[data-v-05ee4a98]{width:1s00px;height:500px;position:relative}.tip[data-v-05ee4a98]{pointer-events:none;display:none;background-color:rgba(4,4,4,.62);border-radius:10px;color:#fff;padding:10px;box-sizing:border-box}@font-size - base: 14px;@text-color - secondary: rgba(0,0,0,.45);@border-radius - base: 2px;@border-color - base: #d9d9d9;@box-shadow - base: 0 2px 8px rgba(0,0,0,.15);\n",document.head.appendChild(e),System.register(["./vendors-legacy-fa1ec7b1.js"],(function(e){"use strict";var t,a,l,r,o;return{setters:[function(e){t=e.bL,a=e._,l=e.o,r=e.a,o=e.b}],execute:function(){const n={class:"content"},s={class:"neirong"},i={class:"legend"},d={ref:"legend"},h={ref:"waterFall"},f={ref:"tip",class:"tip"};e("default",a({name:"index",data:()=>({colormap:[],legend:null,waterFall:null,waterFallList:[],waterFallIndex:0,waterFallCopyList:[],waterFallIntervals:null,waterFallWidth:0,waterFallHeight:0,maxNum:10,minNum:0}),mounted(){let e=this;e.setColormap(),e.createLegendCanvas(),e.queryChartList()},destroyed(){clearInterval(this.waterFallIntervals)},methods:{setColormap(){this.colormap=t({colormap:"jet",nshades:150,format:"rba",alpha:1})},createLegendCanvas(){let e=this,t=e.$refs.legend;e.legend=t.getContext("2d");let a=document.createElement("canvas");a.width=1;let l=a.getContext("2d");const r=l.createImageData(1,e.colormap.length);for(let o=0;o<e.colormap.length;o++){const t=e.colormap[o];r.data[r.data.length-4*o+0]=t[0],r.data[r.data.length-4*o+1]=t[1],r.data[r.data.length-4*o+2]=t[2],r.data[r.data.length-4*o+3]=255}l.putImageData(r,0,0),e.legend.drawImage(l.canvas,0,0,1,e.colormap.length,50,0,200,e.legend.canvas.height)},createWaterFallCanvas(){let e=this,t=e.$refs.waterFall;e.waterFall=t.getContext("2d"),t.width=e.waterFallWidth,t.height=e.$refs.waterFallContent.offsetHeight},rowToImageData(e){let t=this;if(void 0!==t.$refs.waterFallContent){let a=Math.floor(t.$refs.waterFallContent.offsetHeight/t.waterFallHeight),l=t.waterFall.getImageData(0,0,t.waterFallWidth,a*t.waterFallIndex+1);const r=t.waterFall.createImageData(e.length,1);for(let o=0;o<r.data.length;o+=4){const a=t.colorMapData(e[o/4],0,130),l=t.colormap[a];r.data[o+0]=l[0],r.data[o+1]=l[1],r.data[o+2]=l[2],r.data[o+3]=255}for(let e=0;e<a;e++)t.waterFall.putImageData(r,0,e);t.waterFall.putImageData(l,0,a)}},colorMapData(e,t,a){let l=this;return e<=l.minNum?t:e>=l.maxNum?a:Math.round((e-l.minNum)/(l.maxNum-l.minNum)*a)},waterFallMove(e){let t=this,a=(t.$refs.waterFallContent.offsetWidth/t.waterFallWidth).toFixed(2),l=(t.$refs.waterFallContent.offsetHeight/t.waterFallHeight).toFixed(2),r=Math.floor(e.offsetX/a),o=Math.floor(e.offsetY/l);try{t.$refs.tip.innerHTML="数值："+JSON.parse(JSON.stringify(t.waterFallCopyList[o][r]));let a=e.offsetX+5,l=e.offsetY-20;e.offsetX>1300&&(a=e.offsetX-160,l=e.offsetY-20),t.$refs.tip.style.position="absolute",t.$refs.tip.style.left=a+"px",t.$refs.tip.style.top=l+"px",t.$refs.tip.style.display="block"}catch(n){t.$refs.tip.style.display="none"}},waterFallLeave(){this.$refs.tip.style.display="none"},queryChartList(){let e=this;e.waterFallWidth=1500,e.waterFallHeight=30;let t=[];for(let a=0;a<1500;a++)t.push(Math.floor(19*Math.random())+1);null===e.waterFall&&e.createWaterFallCanvas(t.length),e.rowToImageData(t),e.waterFallCopyList.unshift(t),e.waterFallIndex++,e.waterFallIndex>e.waterFallHeight&&e.waterFallCopyList.pop(),e.waterFallIntervals=setTimeout((()=>{e.queryChartList()}),1e3)}}},[["render",function(e,t,a,p,c,g){return l(),r("div",null,[o("div",n,[o("div",s,[o("div",i,[o("canvas",d,null,512)]),o("div",{class:"waterFall",ref:"waterFallContent",onMousemove:t[0]||(t[0]=e=>g.waterFallMove(e)),onMouseleave:t[1]||(t[1]=(...e)=>g.waterFallLeave&&g.waterFallLeave(...e))},[o("canvas",h,null,512),o("div",f,null,512)],544)])])])}],["__scopeId","data-v-05ee4a98"]]))}}}))}();
