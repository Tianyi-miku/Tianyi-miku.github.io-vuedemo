!function(){var e=document.createElement("style");e.innerHTML=".user-layout-login label[data-v-146e7064]{font-size:14px}.user-layout-login .getCaptcha[data-v-146e7064]{display:block;width:100%;height:40px}.user-layout-login .forge-password[data-v-146e7064]{font-size:14px}.user-layout-login button.login-button[data-v-146e7064]{padding:0 15px;font-size:16px;height:40px;width:100%}.user-layout-login .user-login-other[data-v-146e7064]{text-align:left;margin-top:24px;line-height:22px}.user-layout-login .user-login-other .anticon[data-v-146e7064]{font-size:24px;color:rgba(0,0,0,.2);margin-left:16px;vertical-align:middle;cursor:pointer;transition:color .3s}.user-layout-login .user-login-other .anticon[data-v-146e7064]:hover{color:#1890ff}.user-layout-login .user-login-other .register[data-v-146e7064]{float:right}@font-size - base: 14px;@text-color - secondary: rgba(0,0,0,.45);@border-radius - base: 2px;@border-color - base: #d9d9d9;@box-shadow - base: 0 2px 8px rgba(0,0,0,.15);\n",document.head.appendChild(e),System.register(["./vendors-legacy-963dc5fa.js","./index-legacy-466b42ba.js","./helper-legacy-3e4035dd.js"],(function(e){"use strict";var a,t,l,r,o,s,i,n,u,d,c,g,p,b,f,m,h,v,y,x,_,w,C,k,$,z,B,O,R,T,I,S,M,q,A,L,U,K,j,D,E,Z,H,W,F,P;return{setters:[function(e){a=e._,t=e.d,l=e.w,r=e.o,o=e.a,s=e.z,i=e.B,n=e.b4,u=e.k,d=e.b5,c=e.b6,g=e.b7,p=e.b8,b=e.L,f=e.b9,m=e.Y,h=e.u,v=e.q,y=e.ap,x=e.r,_=e.D,w=e.C,C=e.ba,k=e.bb,$=e.n,z=e.bc,B=e.H,O=e.y,R=e.b,T=e.bd,I=e.aA,S=e.be,M=e.bf,q=e.aC,A=e.bg,L=e.I,U=e.bh,K=e.aD,j=e.bi},function(e){D=e.g,E=e.e,Z=e.u,H=e.l},function(e){W=e.l,F=e.r,P=e.u}],execute:function(){const V=t({components:{MobileOutlined:n,UserOutlined:u,MailOutlined:d,AlipayCircleOutlined:c,TaobaoCircleOutlined:g,WeiboCircleOutlined:p,LockOutlined:b},setup(){const e=f.useForm,{t:a}=m.useI18n(),t=h();v((()=>{D().then((e=>{d.value=e.result.stepCode})).catch((()=>{d.value=0})),d.value=1}));const l=y({time:60,loginBtn:!1,loginType:0,smsSendBtn:!1}),r=y({rememberMe:!1,username:"",password:"",mobile:"",captcha:""}),o=y({rememberMe:[{trigger:"checked"}],username:[{required:!0,message:a("user.username.required")},{validator:(e,a)=>(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(a)?l.loginType=0:l.loginType=1,Promise.resolve()),trigger:"change"}],password:[{required:!0,message:a("user.password.required")},{}],mobile:[{required:!0,pattern:/^1[34578]\d{9}$/,message:a("user.login.mobile.placeholder"),validateTrigger:"change"}],captcha:[{required:!0,message:a("user.verification-code.required"),validateTrigger:"blur"}]}),{validate:s,validateInfos:i}=e(r,o),n=x(!1),u=x("tab1"),d=x(0),c=x(!1);return{formRef:r,rulesRef:o,state:l,customActiveKey:u,isLoginError:n,requiredTwoStepCaptcha:d,stepCaptchaVisible:c,handleTabClick:e=>{u.value=e},handleSubmit:e=>{e.preventDefault(),l.loginBtn=!0;const a="tab1"===u.value?["username","password"]:["mobile","captcha"];s(a).then((async()=>{r.password=E(r.password);const e=await Z(r);if(e){if(403===e.code)return n.value=!0,r.password="",void(l.loginBtn=!1);W(e,t),n.value=!1}else F(e),n.value=!0,r.password="";l.loginBtn=!1})).catch((e=>{l.loginBtn=!1}))},validateInfos:i,getCaptcha:e=>{P(e,s,l,r,null)},stepCaptchaSuccess:e=>{W(e,t)},stepCaptchaCancel:()=>{H().then((()=>{l.loginBtn=!1,c.value=!1}))}}}}),Y={class:"main"},G={class:"user-login-other"};e("default",a(V,[["render",function(e,a,t,n,u,d){const c=T,g=l("UserOutlined"),p=I,b=S,m=l("LockOutlined"),h=M,v=q,y=l("MobileOutlined"),x=l("MailOutlined"),D=A,E=L,Z=U,H=K,W=j,F=l("router-link"),P=l("AlipayCircleOutlined"),V=l("TaobaoCircleOutlined"),J=l("WeiboCircleOutlined"),N=f;return r(),o("div",Y,[s(N,{id:"formLogin",class:"user-layout-login",onSubmit:e.handleSubmit,model:e.formRef},{default:i((()=>[s(H,{activeKey:e.customActiveKey,tabBarStyle:{textAlign:"center",borderBottom:"unset"},onChange:e.handleTabClick},{default:i((()=>[s(v,{key:"tab1",tab:e.$t("user.login.tab-login-credentials")},{default:i((()=>[e.isLoginError?(r(),_(c,{key:0,type:"error",showIcon:"",style:{"margin-bottom":"24px"},message:e.$t("user.login.message-invalid-credentials")},null,8,["message"])):w("",!0),s(b,C(k(e.validateInfos.username)),{default:i((()=>[s(p,{size:"large",type:"text",placeholder:e.$t("user.login.username.placeholder"),value:e.formRef.username,"onUpdate:value":a[0]||(a[0]=a=>e.formRef.username=a)},{prefix:i((()=>[s(g,{style:$({color:"rgba(0,0,0,.25)"})},null,8,["style"])])),_:1},8,["placeholder","value"])])),_:1},16),s(b,C(k(e.validateInfos.password)),{default:i((()=>[s(h,{size:"large",placeholder:e.$t("user.login.password.placeholder"),value:e.formRef.password,"onUpdate:value":a[1]||(a[1]=a=>e.formRef.password=a)},{prefix:i((()=>[s(m,{style:$({color:"rgba(0,0,0,.25)"})},null,8,["style"])])),_:1},8,["placeholder","value"])])),_:1},16)])),_:1},8,["tab"]),s(v,{key:"tab2",tab:e.$t("user.login.tab-login-mobile")},{default:i((()=>[s(b,C(k(e.validateInfos.mobile)),{default:i((()=>[s(p,{size:"large",type:"text",placeholder:e.$t("user.login.mobile.placeholder"),value:e.formRef.mobile,"onUpdate:value":a[2]||(a[2]=a=>e.formRef.mobile=a)},{default:i((()=>[s(y,{style:$({color:"rgba(0,0,0,.25)"})},null,8,["style"])])),_:1},8,["placeholder","value"])])),_:1},16),s(Z,{gutter:16},{default:i((()=>[s(D,{class:"gutter-row",span:16},{default:i((()=>[s(b,C(k(e.validateInfos.captcha)),{default:i((()=>[s(p,{size:"large",type:"text",placeholder:e.$t("user.login.mobile.verification-code.placeholder"),value:e.formRef.captcha,"onUpdate:value":a[3]||(a[3]=a=>e.formRef.captcha=a)},{default:i((()=>[s(x,{style:$({color:"rgba(0,0,0,.25)"})},null,8,["style"])])),_:1},8,["placeholder","value"])])),_:1},16)])),_:1}),s(D,{class:"gutter-row",span:8},{default:i((()=>[s(E,{class:"getCaptcha",tabindex:"-1",disabled:e.state.smsSendBtn,onClick:z(e.getCaptcha,["stop","prevent"])},{default:i((()=>[B(O(!e.state.smsSendBtn&&e.$t("user.register.get-verification-code")||e.state.time+" s"),1)])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["tab"])])),_:1},8,["activeKey","onChange"]),s(b,C(k(e.validateInfos.rememberMe)),{default:i((()=>[s(W,{checked:e.formRef.rememberMe,"onUpdate:checked":a[4]||(a[4]=a=>e.formRef.rememberMe=a),style:{float:"left"}},{default:i((()=>[B(O(e.$t("user.login.remember-me")),1)])),_:1},8,["checked"]),s(F,{to:{name:"recover",params:{user:"aaa"}},class:"forge-password",style:{float:"right"}},{default:i((()=>[B(O(e.$t("user.login.forgot-password")),1)])),_:1})])),_:1},16),s(b,{style:{"margin-top":"24px"}},{default:i((()=>[s(E,{size:"large",type:"primary",htmlType:"submit",class:"login-button",loading:e.state.loginBtn,disabled:e.state.loginBtn},{default:i((()=>[B(O(e.$t("user.login.login")),1)])),_:1},8,["loading","disabled"])])),_:1}),R("div",G,[R("span",null,O(e.$t("user.login.sign-in-with")),1),R("a",null,[s(P)]),R("a",null,[s(V)]),R("a",null,[s(J)]),s(F,{class:"register",to:{name:"register"}},{default:i((()=>[B(O(e.$t("user.login.signup")),1)])),_:1})])])),_:1},8,["onSubmit","model"])])}],["__scopeId","data-v-146e7064"]]))}}}))}();
